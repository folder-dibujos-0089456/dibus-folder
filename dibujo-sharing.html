<!DOCTYPE html>
<html lang="es">
<head>

   <link rel="icon" href="https://i.ibb.co/pyp9n23/icons.png" type="image/x-icon">
    <link rel="shortcut icon" href="https://i.ibb.co/pyp9n23/icons.png" type="image/x-icon">

<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Google Photos" />
    <meta property="og:description" content="New item by Dibujos Artisticos" />
    <meta property="og:image" content="https://i.ibb.co/GDfZ1J3/dibunewie.png" />
        
    <title>Fotos - Go&#8203;ogle Fotos </title>


<style>
  body {
    font-family: 'Google Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
    background: #000000;
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #ffffff;
  }
  .container {
    text-align: center;
    background: #000000;
    padding: 40px;
    border-radius: 8px;
    max-width: 400px;
  }
  .spinner {
    width: 40px;
    height: 40px;
    border: 3px solid #333333;
    border-top: 3px solid #4285f4;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 24px;
  }
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  .message {
    font-size: 16px;
    margin-bottom: 8px;
    font-weight: 400;
    color: #ffffff;
  }
  .submessage {
    font-size: 14px;
    opacity: 0.7;
    margin-bottom: 20px;
    color: #9aa0a6;
  }
  .manual-button {
    background: #1f1f1f;
    border: 1px solid #333333;
    color: #e8eaed;
    padding: 10px 20px;
    border-radius: 4px;
    text-decoration: none;
    display: inline-block;
    margin: 8px;
    transition: all 0.2s ease;
    font-size: 14px;
  }
  .manual-button:hover {
    background: #333333;
    border-color: #4285f4;
  }
  .hidden {
    display: none;
  }
</style>
</head>
<body>
  <div class="container">
    <div id="loading">
      <div class="spinner"></div>
      <div class="message">Abriendo Google Fotos...</div>
      <div class="submessage">Configurando copia y sincronizaci√≥n</div>
    </div>
    
    <div id="fallback" class="hidden">
      <div class="message">¬°Google Fotos se abrir√° pronto!</div>
      <div class="submessage">Una vez abierta la app, ve a: Configuraci√≥n > Copia de seguridad</div>
      <div>
        <a href="#" id="appLink" class="manual-button">üîÑ Reintentar</a>
        <a href="#" id="storeLink" class="manual-button">üì± Descargar App</a>
        <a href="https://photos.google.com" class="manual-button">üåê Versi√≥n Web</a>
      </div>
      <div style="margin-top: 20px; padding: 15px; background: #1f1f1f; border-radius: 8px; border-left: 4px solid #4285f4;">
        <div style="font-size: 14px; color: #e8eaed; margin-bottom: 8px;"><strong>üìã Instrucciones manuales:</strong></div>
        <div style="font-size: 13px; color: #9aa0a6; line-height: 1.4;">
          1. Abre Google Fotos<br>
          2. Toca tu foto de perfil (esquina superior derecha)<br>
          3. Selecciona "Configuraci√≥n de Fotos"<br>
          4. Toca "Copia de seguridad"<br>
          5. Activa "Copia de seguridad"
        </div>
      </div>
    </div>
  </div>

  <script>
    function detectDevice() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      
      if (/android/i.test(ua)) {
        return 'android';
      } else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {
        return 'ios';
      } else {
        return 'web';
      }
    }

    function getLinks(device) {
      const links = {
        android: {
          // Abrir la app principal de Google Fotos
          app: "intent://launch#Intent;scheme=googlephotos;package=com.google.android.apps.photos;end",
          // Fallback: abrir con intent gen√©rico
          backup: "intent://photos.google.com/#Intent;scheme=https;package=com.google.android.apps.photos;S.browser_fallback_url=https://photos.google.com;end",
          store: "https://play.google.com/store/apps/details?id=com.google.android.apps.photos"
        },
        ios: {
          // Abrir la app principal de Google Fotos
          app: "googlephotos://",
          backup: "https://photos.google.com",
          store: "https://apps.apple.com/app/google-photos/id962194608"
        },
        web: {
          app: "https://photos.google.com/settings",
          backup: "https://photos.google.com/settings",
          store: "https://photos.google.com"
        }
      };
      return links[device];
    }

    function copyToClipboard() {
      const linkElement = document.getElementById('copyLink');
      const text = linkElement.textContent;
      
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text).then(() => {
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = '‚úÖ Copiado!';
          setTimeout(() => {
            button.textContent = originalText;
          }, 2000);
        });
      } else {
        // Fallback para navegadores m√°s antiguos
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        try {
          document.execCommand('copy');
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = '‚úÖ Copiado!';
          setTimeout(() => {
            button.textContent = originalText;
          }, 2000);
        } catch (err) {
          console.error('Error al copiar:', err);
        }
        document.body.removeChild(textArea);
      }
    }

    function isInAppBrowser() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      return /FBAN|FBAV|Instagram|Twitter|LinkedIn|WhatsApp/i.test(ua);
    }

    function attemptRedirect() {
      const device = detectDevice();
      const links = getLinks(device);
      const inApp = isInAppBrowser();
      
      // Actualizar enlaces de fallback
      document.getElementById('appLink').href = links.app;
      document.getElementById('storeLink').href = links.store;
      
      // Mostrar enlace para copiar (√∫til para navegadores internos)
      document.getElementById('copyLink').textContent = window.location.href;
      
      try {
        if (device === 'web' || inApp) {
          // Para PC o navegadores internos de apps, mostrar opciones inmediatamente
          if (inApp) {
            // Cambiar el mensaje para navegadores internos
            document.querySelector('#loading .message').textContent = 'Detectamos que est√°s en una app';
            document.querySelector('#loading .submessage').textContent = 'Usa los botones de abajo para abrir Google Fotos';
            setTimeout(() => {
              document.getElementById('loading').classList.add('hidden');
              document.getElementById('fallback').classList.remove('hidden');
            }, 1500);
          } else {
            window.location.href = links.app;
          }
          return;
        }
        
        // Para m√≥viles en navegadores normales, intentar abrir la app
        let attemptCount = 0;
        const maxAttempts = 2;
        
        function tryOpen() {
          attemptCount++;
          const linkToTry = attemptCount === 1 ? (links.app || links.backup) : links.backup;
          
          try {
            window.location.href = linkToTry;
          } catch (e) {
            console.error('Error abriendo enlace:', e);
          }
          
          if (attemptCount < maxAttempts) {
            setTimeout(tryOpen, 2000);
          } else {
            // Despu√©s de intentos, mostrar opciones manuales
            setTimeout(() => {
              document.getElementById('loading').classList.add('hidden');
              document.getElementById('fallback').classList.remove('hidden');
            }, 1000);
          }
        }
        
        tryOpen();
        
      } catch (error) {
        console.error('Error en redirecci√≥n:', error);
        document.getElementById('loading').classList.add('hidden');
        document.getElementById('fallback').classList.remove('hidden');
      }
    }

    // Detectar si el usuario regresa a la p√°gina (indica que la app no se abri√≥)
    let hidden, visibilityChange;
    if (typeof document.hidden !== "undefined") {
      hidden = "hidden";
      visibilityChange = "visibilitychange";
    } else if (typeof document.webkitHidden !== "undefined") {
      hidden = "webkitHidden";
      visibilityChange = "webkitvisibilitychange";
    }

    function handleVisibilityChange() {
      if (!document[hidden]) {
        // El usuario regres√≥, mostrar opciones manuales
        setTimeout(() => {
          document.getElementById('loading').classList.add('hidden');
          document.getElementById('fallback').classList.remove('hidden');
        }, 500);
      }
    }

    if (typeof document.addEventListener !== "undefined" && hidden) {
      document.addEventListener(visibilityChange, handleVisibilityChange, false);
    }

    // Ejecutar la redirecci√≥n cuando la p√°gina carga
    window.addEventListener('load', attemptRedirect);
  </script>
</body>
</html>
